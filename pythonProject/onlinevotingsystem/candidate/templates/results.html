<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voting Results</title>
    <style>
        h1{
            font-size: 40px;
            align-content: center;
            }
         .picture {
            width: 200px;
            height: 200px;
            border: 2px solid #333;
            margin-right: 20px;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border-radius: 50%;
            order: initial;
             align-self: center;
        }
    </style>
</head>

<body>
{% block content %}
    <h1 align="center">Voting Results</h1>
    <div id="vote-counts"></div>
    <div align="center" class="result-container">
        <div class="party-result">
              <div class="picture" style="background-image: url('https://th.bing.com/th/id/OIP.lDqpJbCYshL4pnTxmh0fdwHaHa?w=512&h=512&rs=1&pid=ImgDetMain');"></div>
            <br><div class="party-name"><b>YSRCP</b></div>
            <div style="color: orangered" class="vote-count" id="votes-YSRCP"><b>0</b></div>
        </div>
        <br>
         <div class="party-result">
              <div class="picture" style="background-image: url('https://www.telugubulletin.com/wp-content/uploads/2019/11/160718-tdp.jpg');"></div>
            <br><div class="party-name"><b>TDP</b></div>
            <div style="color: orangered" class="vote-count" id="votes-TDP"><b>0</b></div>
        </div>
        <br>
         <div class="party-result">
              <div class="picture" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/1/11/Janasena_Party_Flag.png');"></div>
             <br><div class="party-name"><b>JSP</b></div>
              <div style="color: orangered" class="vote-count" id="votes-JSP"><b>0</b></div>
         </div>
        <br>
        <div class="party-result">
              <div class="picture" style="background-image: url('https://th.bing.com/th/id/OIP.5kYsct853E5zLuCdDODhCwHaHa?rs=1&pid=ImgDetMain');"></div>
             <br><div class="party-name"><b>BJP</b></div>
              <div style="color: orangered" class="vote-count" id="votes-BJP"><b>0</b></div>
         </div>
         <div class="party-result">
              <div class="picture" style="background-image: url('https://th.bing.com/th/id/OIP.XAt4RH64a7BbHA-735Br0AHaHa?w=512&h=512&rs=1&pid=ImgDetMain');"></div>
             <br><div class="party-name"><b>Congress</b></div>
              <div style="color: orangered" class="vote-count" id="votes-congress"><b>0</b></div>
         </div>
        <br>
        <div class="party-result">
              <div class="picture" style="background-image: url('https://etvbharatimages.akamaized.net/etvbharat/prod-images/ka-blr-01-prajashantipartywillcontestkarnatakaassemblypollstodefeatcommunalbjpgovernmentsaysdrkapaulorprajashantiparty-7205032_20022023165449_2002f_1676892289_96.jpeg');"></div>
             <br><div class="party-name"><b>PSP</b></div>
              <div style="color: orangered" class="vote-count" id="votes-PSP"><b>0</b></div>
         </div>
    <br>
    <div class="party-result">
              <div class="picture" style="background-image: url('https://play-lh.googleusercontent.com/Bbx_Uj4KNi6uAqdHZHW1bKLize0QdPvISyNPZcBLbwKwoGjPZNktkOFR42BtgJ-YV4w');"></div>
             <br><div class="party-name"><b>Nota</b></div>
              <div style="color: orangered" class="vote-count" id="votes-Nota"><b>0</b></div>
         </div>
    </div>



    <script>
        // Function to parse URL parameters
        function getUrlParameter(name) {
            name = name.replace(/[[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        };

        // Get the vote counts from URL parameters
        const partyVotes = {};
        for (const param of Object.entries(location.search.substring(1).split('&'))) {
            const [party, count] = param.split('=');
            partyVotes[party] = count;
        }

        // Display vote counts
        const voteCountContainer = document.getElementById('vote-counts');
        for (const party in partyVotes) {
            const partyCountElement = document.createElement('p');
            partyCountElement.textContent = `${party}: ${partyVotes[party]}`;
            voteCountContainer.appendChild(partyCountElement);
        }
    </script>
{% endblock %}
</body>

</html>
